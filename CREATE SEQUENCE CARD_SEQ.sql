CREATE SEQUENCE CARD_SEQ
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;
DROP SEQUENCE CARD_SEQ;
CREATE SEQUENCE CARD_SEQ
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;
SELECT SYS_CONTEXT('USERENV', 'CURRENT_SCHEMA') FROM DUAL;

CREATE TABLE CARD (
  CARD_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  CARD_NUMBER VARCHAR2(20) NOT NULL,
  ACCOUNT_NUMBER VARCHAR2(20) NOT NULL,
  CARD_TYPE VARCHAR2(20) NOT NULL,
  EXPIRY_DATE DATE NOT NULL,
  ISSUED_DATE DATE,
  ACTIVE CHAR(1) CHECK (ACTIVE IN ('Y', 'N')) NOT NULL
);
DROP TABLE CARD CASCADE CONSTRAINTS;
DROP VIEW CARD;

CREATE TABLE CARD (
  CARD_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
  CARD_NUMBER VARCHAR2(20) NOT NULL,
  ACCOUNT_NUMBER VARCHAR2(20) NOT NULL,
  CARD_TYPE VARCHAR2(20) NOT NULL,
  EXPIRY_DATE DATE NOT NULL,
  ISSUED_DATE DATE,
  ACTIVE CHAR(1) CHECK (ACTIVE IN ('Y', 'N')) NOT NULL
);

INSERT INTO CARD (CARD_ID, CARD_NUMBER, ACCOUNT_NUMBER, CARD_TYPE, EXPIRY_DATE, ISSUED_DATE, ACTIVE)
VALUES (1, '9999888877776666', 'ACC999', 'DEBIT', TO_DATE('2028-12-31','YYYY-MM-DD'), TO_DATE('2025-07-29','YYYY-MM-DD'), 'Y');
select*from CARD;
DESC CARD;
SELECT * FROM CARD;
SELECT * FROM CARD WHERE ACCOUNT_NUMBER = 'ACC999';
ALTER TABLE CARD ADD CARD_LIMIT NUMBER(10, 2);
SELECT * FROM CARD WHERE CARD_NUMBER = '1234567890123456';
DELETE FROM CARD;
COMMIT;


SELECT * FROM CARD;
DROP SEQUENCE CARD_ID;

CREATE SEQUENCE CARD_Id
START WITH 1001
INCREMENT BY 1
NOCACHE
NOCYCLE;
DROP SEQUENCE CARD_SEQ;

CREATE SEQUENCE CARD_SEQ
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;



DELETE FROM CARD;
COMMIT;

CREATE SEQUENCE card_seq
  START WITH 1
  INCREMENT BY 1
  NOCACHE
  NOCYCLE;





